---
title: 宝塔配置反向代理
authot: lincc
date: 2024-07-11 周四
time: 17:37
tags:
---
## 配置过程
直接新建一个站点，不要数据库，不要 php，纯静态即可。

然后打开下面的配置，修改 Nginx 的配置。
注释掉
```nginx
# location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
# {
#     expires      30d;
#     error_log /dev/null;
#     access_log /dev/null;
# }

# location ~ .*\.(js|css)?$
# {
#     expires      12h;
#     error_log /dev/null;
#     access_log /dev/null;
# }
```

加上需要的location(在入链中查看例子)
## picList 的配置
![[安装 picList#^c9a217|picList]]

### glance的配置指令
![[搭建glance信息聚合网站#^afe786|glance]]

## 其他配置指令
```
    location /piclist/ {
        proxy_pass http://172.19.0.5:36677/;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Real-Port $remote_port;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header HTTP_X_FORWARDED_FOR $remote_addr;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header Host $host;
        proxy_set_header X-NginX-Proxy true;
        proxy_set_header Accept-Encoding "br";
    }
```
